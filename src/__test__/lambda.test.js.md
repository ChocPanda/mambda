# Snapshot report for `src/__test__/lambda.test.js`

The actual snapshot is saved in `lambda.test.js.snap`.

Generated by [AVA](https://ava.li).

## The Wrapped lambda function - withLogger should create a lambda function with the new logger

> Snapshot 1

    [
      {
        arguments: [
          'Lambda function invocation: cold start',
          'event',
          'context',
        ],
        return: undefined,
        this: {
          debug: Function stub {
            calls: [
              {
                arguments: [
                  'Completed execution of the pre-execution middlewares',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          error: Function stub {
            calls: [],
          },
          group: Function stub {
            calls: [
              {
                arguments: [
                  'undefined - undefined',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          groupEnd: Function stub {
            calls: [
              {
                arguments: [],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          info: Function stub {
            calls: [Circular],
          },
          trace: Function stub {
            calls: [
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'result',
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          warn: Function stub {
            calls: [],
          },
        },
      },
      {
        arguments: [
          'Completed Lambda exection',
          'result',
        ],
        return: undefined,
        this: {
          debug: Function stub {
            calls: [
              {
                arguments: [
                  'Completed execution of the pre-execution middlewares',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          error: Function stub {
            calls: [],
          },
          group: Function stub {
            calls: [
              {
                arguments: [
                  'undefined - undefined',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          groupEnd: Function stub {
            calls: [
              {
                arguments: [],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          info: Function stub {
            calls: [Circular],
          },
          trace: Function stub {
            calls: [
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'result',
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          warn: Function stub {
            calls: [],
          },
        },
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          'Completed execution of the pre-execution middlewares',
          'event',
          'context',
        ],
        return: undefined,
        this: {
          debug: Function stub {
            calls: [Circular],
          },
          error: Function stub {
            calls: [],
          },
          group: Function stub {
            calls: [
              {
                arguments: [
                  'undefined - undefined',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          groupEnd: Function stub {
            calls: [
              {
                arguments: [],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          info: Function stub {
            calls: [
              {
                arguments: [
                  'Lambda function invocation: cold start',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Completed Lambda exection',
                  'result',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          trace: Function stub {
            calls: [
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'result',
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          warn: Function stub {
            calls: [],
          },
        },
      },
    ]

> Snapshot 3

    []

> Snapshot 4

    []

> Snapshot 5

    [
      {
        arguments: [
          'Executing middleware, current parameters:',
          [
            'event',
            'context',
          ],
        ],
        return: undefined,
        this: {
          debug: Function stub {
            calls: [
              {
                arguments: [
                  'Completed execution of the pre-execution middlewares',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          error: Function stub {
            calls: [],
          },
          group: Function stub {
            calls: [
              {
                arguments: [
                  'undefined - undefined',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          groupEnd: Function stub {
            calls: [
              {
                arguments: [],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          info: Function stub {
            calls: [
              {
                arguments: [
                  'Lambda function invocation: cold start',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Completed Lambda exection',
                  'result',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          trace: Function stub {
            calls: [Circular],
          },
          warn: Function stub {
            calls: [],
          },
        },
      },
      {
        arguments: [
          'Executing middleware, current parameters:',
          [
            'result',
            'event',
            'context',
          ],
        ],
        return: undefined,
        this: {
          debug: Function stub {
            calls: [
              {
                arguments: [
                  'Completed execution of the pre-execution middlewares',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          error: Function stub {
            calls: [],
          },
          group: Function stub {
            calls: [
              {
                arguments: [
                  'undefined - undefined',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          groupEnd: Function stub {
            calls: [
              {
                arguments: [],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          info: Function stub {
            calls: [
              {
                arguments: [
                  'Lambda function invocation: cold start',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Completed Lambda exection',
                  'result',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          trace: Function stub {
            calls: [Circular],
          },
          warn: Function stub {
            calls: [],
          },
        },
      },
    ]

> Snapshot 6

    [
      {
        arguments: [
          'undefined - undefined',
        ],
        return: undefined,
        this: {
          debug: Function stub {
            calls: [
              {
                arguments: [
                  'Completed execution of the pre-execution middlewares',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          error: Function stub {
            calls: [],
          },
          group: Function stub {
            calls: [Circular],
          },
          groupEnd: Function stub {
            calls: [
              {
                arguments: [],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          info: Function stub {
            calls: [
              {
                arguments: [
                  'Lambda function invocation: cold start',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Completed Lambda exection',
                  'result',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          trace: Function stub {
            calls: [
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'result',
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          warn: Function stub {
            calls: [],
          },
        },
      },
    ]

> Snapshot 7

    [
      {
        arguments: [],
        return: undefined,
        this: {
          debug: Function stub {
            calls: [
              {
                arguments: [
                  'Completed execution of the pre-execution middlewares',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          error: Function stub {
            calls: [],
          },
          group: Function stub {
            calls: [
              {
                arguments: [
                  'undefined - undefined',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          groupEnd: Function stub {
            calls: [Circular],
          },
          info: Function stub {
            calls: [
              {
                arguments: [
                  'Lambda function invocation: cold start',
                  'event',
                  'context',
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Completed Lambda exection',
                  'result',
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          trace: Function stub {
            calls: [
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
              {
                arguments: [
                  'Executing middleware, current parameters:',
                  [
                    'result',
                    'event',
                    'context',
                  ],
                ],
                return: undefined,
                this: [Circular],
              },
            ],
          },
          warn: Function stub {
            calls: [],
          },
        },
      },
    ]

## Wrapped lambda function - accepts a function parameter

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - does not require an init function

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - proxies lambda callback wrapping with Post-Execution middlewares

> Snapshot 1

    [
      {
        arguments: [
          'result',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - proxies returned promise wrapping with Post-Execution middlewares

> Snapshot 1

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should add all the new middlewares components to the the existing 0 middlewares

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          undefined,
          'event',
          'context',
        ],
        return: 'an error didn\'t occur',
        this: undefined,
      },
    ]

> Snapshot 3

    []

## Wrapped lambda function - should add all the new middlewares components to the the existing 0 middlewares - ERROR CASE

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    []

> Snapshot 3

    [
      {
        arguments: [
          undefined,
          Error {
            message: 'bang',
          },
          'event',
          'context',
        ],
        return: 'an error occured',
        this: undefined,
      },
    ]

## Wrapped lambda function - should add all the new middlewares components to the the existing 1 middlewares

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          undefined,
          'event',
          'context',
        ],
        return: 'an error didn\'t occur',
        this: undefined,
      },
    ]

> Snapshot 3

    []

## Wrapped lambda function - should add all the new middlewares components to the the existing 1 middlewares - ERROR CASE

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    []

> Snapshot 3

    [
      {
        arguments: [
          undefined,
          Error {
            message: 'bang',
          },
          'event',
          'context',
        ],
        return: 'an error occured',
        this: undefined,
      },
    ]

## Wrapped lambda function - should add all the new middlewares components to the the existing 3 middlewares

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          undefined,
          'event',
          'context',
        ],
        return: 'an error didn\'t occur',
        this: undefined,
      },
    ]

> Snapshot 3

    []

## Wrapped lambda function - should add all the new middlewares components to the the existing 3 middlewares - ERROR CASE

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    []

> Snapshot 3

    [
      {
        arguments: [
          undefined,
          Error {
            message: 'bang',
          },
          'event',
          'context',
        ],
        return: 'an error occured',
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares after component to the the existing 0 afterMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares after component to the the existing 1 afterMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares after component to the the existing 3 afterMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares before component to the the existing 0 beforeMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares before component to the the existing 1 beforeMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares before component to the the existing 3 beforeMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares onError component to the the existing 0 errorMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          undefined,
          Error {
            message: 'Bang',
          },
          'event',
          'context',
        ],
        return: 'some new result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares onError component to the the existing 1 errorMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          undefined,
          Error {
            message: 'Bang',
          },
          'event',
          'context',
        ],
        return: 'some new result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should add the new middlewares onError component to the the existing 3 errorMiddlewares

> Snapshot 1

    [
      {
        arguments: [
          undefined,
          Error {
            message: 'Bang',
          },
          'event',
          'context',
        ],
        return: 'some new result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should cache the result of the init function

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: undefined,
        this: undefined,
      },
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should execute 1 post-execution middlewares and the handler

> Snapshot 1

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: 'result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should execute 1 pre-execution middlewares and the handler

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should execute 3 post-execution middlewares and the handler

> Snapshot 1

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 3

    [
      {
        arguments: [
          'result',
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 4

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: 'result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should execute 3 pre-execution middlewares and the handler

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 2

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 3

    [
      {
        arguments: [
          'event',
          'context',
        ],
        return: undefined,
        this: undefined,
      },
    ]

> Snapshot 4

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: undefined,
        this: undefined,
      },
    ]

## Wrapped lambda function - should handle exceptions from post-execution middlewares with error handling middleware

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: 'result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should rethrow exceptions from post-execution middlewares if the error handler fails

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: 'result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should rethrow exceptions from post-execution middlewares if there are no error handlers

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: 'result',
        this: undefined,
      },
    ]

## Wrapped lambda function - should run the init function

> Snapshot 1

    [
      {
        arguments: [
          'event',
          'context',
          Function {},
        ],
        return: undefined,
        this: undefined,
      },
    ]

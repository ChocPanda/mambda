<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1241px" height="438px" viewBox="-0.5 -0.5 1241 438" content="&lt;mxfile modified=&quot;2019-05-02T16:35:31.338Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&quot; etag=&quot;NiIxCKvfFnZfqrDqD_jz&quot; version=&quot;10.6.5&quot; type=&quot;device&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;12e1b939-464a-85fe-373e-61e167be1490&quot;&gt;7Vtdk5o8FP41Tq/qkAT5uPSz7Uy7nVm303kvI0ShC8RCXLW/vglEBcMqOxVhX/VGchIScp5zTs5zBjpoGG4+xXjpfaMuCTpQczcdNOpACJCt8z8h2WYSE/YywSL2XTnoIJj6f4gUalK68l2SFAYySgPmL4tCh0YRcVhBhuOYrovD5jQorrrEC6IIpg4OdtJu7yD/6bvMk3Jg2IeOz8RfeHJxCxpZxww7z4uYriK5YgeiefrLukO8m0tuNfGwS9c5ERp30DCmlGVX4WZIAqHdneKy+yav9O73E5OIVbnB0Fxszey5Dg1ddxH+CLMZXnCwIrstpA/Ktjv1rD2fkekSO6K95ibQQQOPhQFvAX6Z7p64srXfoCYaLKbPe41aXDKnEZMGAMUIHPiLiDcc/vwkFgP8IBjSgMbp2mgyHkFg7qfK96Q/3qOqQGrlhcSMbHIiqZJPhIaExVs+RPYiIOGUBqxr0iDWB2OAloTQy9mBjqQQSxNc7Oc+gMAvJA4VMUEKJl8evjwpuPDNsSIURSVFNCJHGpUiRetCVT53iL7sCH3XFcsMyrA/AK4dA56H15TtMszScXInJTb87wDCigAadeCnK/gNPeI8i7DmEXFj5DOfY5Bg5tNIBDbsiA6+khEISGcxv1qIK38uxrMPCf8j4ZJt87eT/YwBDmcuVm9/ZzYD9BM2U4OZmFXNxK7DTIzzoTfwU90X4yh8Lf6edceT0VbiXG+gRUd+apUAoJcAAOoAwLwDYJaddFcDwFIA6P+cikj3InZ4jAWfjGeEr0WYaoAUgTRKws+5jGQwGeh9+yRONUYw2LML+PV0FT8AeiX47YQXBdA+70H5oyaPhIsTb49R9cOFz7EUM4ebhSAj3Sz/h12xIj8R3b5oi+mFgrSuQDglKrpYJqLMEUriuuAoEZ6ci8X4MF21moKhgBJfPntwZlwAOs5loNe1ouv2TKRCr10rxwEVgmejxGEy1DQ1v7mwO/bsVhEHoAbUwXjy/XH8zvLAq3IHBcNGuQNQQ+qU/F7x7fGUPxCPHa8EZcDpNGn2f5z0z8icxoIVZEisuXKSOzV4oxU0Sw125aJbSk2NYw7fKDfYP/8NI9AsOYBqGeyeXNaVXBpWm5JLqFbQWpZcDq6QXFpmq5LL3YGYA+Vz/2H0dfz4zlKJq2aXCoiNZpdQrTmON8RZMZEu/vf9B4dSm60Sfq4louIc0IXv3FPHN0LccOp4g1VN65jCNZs6qiz85hBoOHVUSfQDjUOupT9cn0o8a3O5eTyxUQ+dhK/O0AZaVW5GFWjxnRJciBLYRpsoAarAx5t9UcW2Ne2kn14AE+5WreIECCqo9CdPd0bwNgwbpQRILbO8teCM5wKZe735n6ygWdaAKlRc/m85KwDH3LxR2oDU+srtQdAsb0BqeeSRJKugreTAsAZWb9gUOQCa3S52UKHycWcHF2IHAOqtogdqzYV77pJG4iXZVvruYGIgu9+Y7yKzSd/9/TwzEjQabX8lj3EEzSdXBx9VhncDbwMqkJUA+/pLC8jafbpygLFbI5C8efhWJe3LfRKExn8B&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="60" y="4" width="280" height="430" rx="42" ry="42" fill="#fed217" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(174.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="51" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 52px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">INIT</div></div></foreignObject><text x="26" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">INIT</text></switch></g><g transform="translate(101.5,353.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 198px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Check the initialisation cache,<br />if it's empty initialise the lambda<br /></div></div></foreignObject><text x="98" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 80 89 L 320 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 80 309 L 320 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="61" cy="202" rx="57.5" ry="57.5" fill="#bfb4a9" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(24.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="70" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 70px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">AWS event</div></div></foreignObject><text x="35" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">AWS event</text></switch></g><path d="M 150 184 L 210 190 L 200 172 L 250 202 L 200 232 L 210 214 L 150 220 L 165 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><rect x="340" y="4" width="280" height="430" rx="42" ry="42" fill="#ffc001" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(423.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="112" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 114px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">BEFORE</div></div></foreignObject><text x="56" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">BEFORE</text></switch></g><g transform="translate(408.5,353.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="142" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 142px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Sequentially run all the<br />before middlewares<br /></div></div></foreignObject><text x="71" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Sequentially run all the&lt;br&gt;before middlewares&lt;br&gt;</text></switch></g><path d="M 360 89 L 600 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 360 309 L 600 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 430 184 L 490 190 L 480 172 L 530 202 L 480 232 L 490 214 L 430 220 L 445 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><rect x="620" y="4" width="280" height="430" rx="42" ry="42" fill="#ffb001" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(693.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">HANDLER</div></div></foreignObject><text x="66" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">HANDLER</text></switch></g><g transform="translate(666.5,361.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="186" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 188px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Execute YOUR business logic<br /></div></div></foreignObject><text x="93" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Execute YOUR business logic&lt;br&gt;</text></switch></g><path d="M 640 89 L 880 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 640 309 L 880 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="621" cy="202" rx="57.5" ry="57.5" fill="#ef9353" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(584.5,185.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="70" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 72px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Normalized<br />event</div></div></foreignObject><text x="35" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Normalized&lt;br&gt;event</text></switch></g><path d="M 710 184 L 770 190 L 760 172 L 810 202 L 760 232 L 770 214 L 710 220 L 725 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><rect x="900" y="4" width="280" height="430" rx="42" ry="42" fill="#fe9900" stroke="#ffffff" stroke-width="8" pointer-events="none"/><g transform="translate(994.5,38.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="90" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 27px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 91px; white-space: nowrap; overflow-wrap: normal; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">AFTER</div></div></foreignObject><text x="45" y="29" fill="#FFFFFF" text-anchor="middle" font-size="27px" font-family="Helvetica" font-weight="bold">AFTER</text></switch></g><g transform="translate(968.5,353.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="142" height="30" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 142px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Sequentially run all the<br />after middlewares<br /></div></div></foreignObject><text x="71" y="22" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Sequentially run all the&lt;br&gt;after middlewares&lt;br&gt;</text></switch></g><path d="M 920 89 L 1160 89" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 920 309 L 1160 309" fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="901" cy="202" rx="57.5" ry="57.5" fill="#68b85c" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(879.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="40" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 40px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Result</div></div></foreignObject><text x="20" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Result</text></switch></g><path d="M 990 184 L 1050 190 L 1040 172 L 1090 202 L 1040 232 L 1050 214 L 990 220 L 1005 202 Z" fill="#fff2cc" stroke="none" pointer-events="none"/><ellipse cx="1181" cy="202" rx="57.5" ry="57.5" fill="#bf639a" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(1147.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="64" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 64px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Response</div></div></foreignObject><text x="32" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">Response</text></switch></g><ellipse cx="340" cy="202" rx="57.5" ry="57.5" fill="#bfb4a9" stroke="#ffffff" stroke-width="6" pointer-events="none"/><g transform="translate(304.5,194.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="70" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 70px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">AWS event</div></div></foreignObject><text x="35" y="14" fill="#FFFFFF" text-anchor="middle" font-size="14px" font-family="Helvetica">AWS event</text></switch></g></g></svg>